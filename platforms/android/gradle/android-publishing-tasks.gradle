//
// Copyright (c) 2020, Salesforce.com, inc.
// All rights reserved.
// SPDX-License-Identifier: BSD-3-Clause
// For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause
//

apply plugin: "maven-publish"
apply plugin: "com.jfrog.artifactory"

task sourcesJar(type: Jar) {
    archiveClassifier.set("sources")
    from android.sourceSets.main.java.srcDirs
}

artifacts {
    archives sourcesJar
}

artifactoryPublish.dependsOn("build")

afterEvaluate {
    publishing {
        publications {
            mavenPublication(MavenPublication) {
                artifact(sourcesJar)
                from components.debug
            }
        }
    }

}
